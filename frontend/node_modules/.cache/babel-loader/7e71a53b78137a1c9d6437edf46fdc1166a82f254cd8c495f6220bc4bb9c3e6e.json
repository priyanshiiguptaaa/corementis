{"ast":null,"code":"/**\n * Service for communicating with the engagement analyzer API\n */\n\nconst API_BASE_URL = 'http://localhost:5000/api';\nclass EngagementService {\n  /**\n   * Check if the engagement analyzer API is available\n   * @returns {Promise} - API status response\n   */\n  static async checkStatus() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/status`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        // Set a timeout to avoid waiting too long\n        signal: AbortSignal.timeout(2000) // 2 second timeout\n      });\n      if (response.ok) {\n        return {\n          success: true\n        };\n      } else {\n        return {\n          success: false,\n          message: 'API service unavailable'\n        };\n      }\n    } catch (error) {\n      console.error('Error checking engagement analyzer status:', error);\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n\n  /**\n   * Initialize the engagement analyzer with a specific context\n   * @param {string} context - The classroom context (lecture, interactive, exam)\n   * @returns {Promise} - API response\n   */\n  static async initialize(context = 'lecture') {\n    try {\n      const response = await fetch(`${API_BASE_URL}/initialize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          context\n        })\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error initializing engagement analyzer:', error);\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n\n  /**\n   * Analyze a video frame for engagement\n   * @param {string} imageData - Base64 encoded image data\n   * @returns {Promise} - API response with engagement metrics\n   */\n  static async analyzeFrame(imageData) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/analyze`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          image: imageData\n        })\n      });\n      return await response.json();\n    } catch (error) {\n      console.error('Error analyzing frame:', error);\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n\n  /**\n   * Check if the engagement analyzer is initialized\n   * @returns {Promise} - API response\n   */\n  static async getStatus() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/status`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error checking engagement analyzer status:', error);\n      return {\n        initialized: false\n      };\n    }\n  }\n}\nexport default EngagementService;","map":{"version":3,"names":["API_BASE_URL","EngagementService","checkStatus","response","fetch","method","headers","signal","AbortSignal","timeout","ok","success","message","error","console","initialize","context","body","JSON","stringify","json","analyzeFrame","imageData","image","getStatus","initialized"],"sources":["C:/Users/rkgup/OneDrive/Desktop/corementis/frontend/src/services/EngagementService.js"],"sourcesContent":["/**\n * Service for communicating with the engagement analyzer API\n */\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nclass EngagementService {\n  /**\n   * Check if the engagement analyzer API is available\n   * @returns {Promise} - API status response\n   */\n  static async checkStatus() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/status`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        // Set a timeout to avoid waiting too long\n        signal: AbortSignal.timeout(2000) // 2 second timeout\n      });\n      \n      if (response.ok) {\n        return { success: true };\n      } else {\n        return { success: false, message: 'API service unavailable' };\n      }\n    } catch (error) {\n      console.error('Error checking engagement analyzer status:', error);\n      return { success: false, message: error.message };\n    }\n  }\n\n  /**\n   * Initialize the engagement analyzer with a specific context\n   * @param {string} context - The classroom context (lecture, interactive, exam)\n   * @returns {Promise} - API response\n   */\n  static async initialize(context = 'lecture') {\n    try {\n      const response = await fetch(`${API_BASE_URL}/initialize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ context }),\n      });\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Error initializing engagement analyzer:', error);\n      return { success: false, message: error.message };\n    }\n  }\n\n  /**\n   * Analyze a video frame for engagement\n   * @param {string} imageData - Base64 encoded image data\n   * @returns {Promise} - API response with engagement metrics\n   */\n  static async analyzeFrame(imageData) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/analyze`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ image: imageData }),\n      });\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Error analyzing frame:', error);\n      return { success: false, message: error.message };\n    }\n  }\n\n  /**\n   * Check if the engagement analyzer is initialized\n   * @returns {Promise} - API response\n   */\n  static async getStatus() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/status`);\n      return await response.json();\n    } catch (error) {\n      console.error('Error checking engagement analyzer status:', error);\n      return { initialized: false };\n    }\n  }\n}\n\nexport default EngagementService;\n"],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAG,2BAA2B;AAEhD,MAAMC,iBAAiB,CAAC;EACtB;AACF;AACA;AACA;EACE,aAAaC,WAAWA,CAAA,EAAG;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,YAAY,SAAS,EAAE;QACrDK,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACD;QACAC,MAAM,EAAEC,WAAW,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC;MACpC,CAAC,CAAC;MAEF,IAAIN,QAAQ,CAACO,EAAE,EAAE;QACf,OAAO;UAAEC,OAAO,EAAE;QAAK,CAAC;MAC1B,CAAC,MAAM;QACL,OAAO;UAAEA,OAAO,EAAE,KAAK;UAAEC,OAAO,EAAE;QAA0B,CAAC;MAC/D;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAClE,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAEC,KAAK,CAACD;MAAQ,CAAC;IACnD;EACF;;EAEA;AACF;AACA;AACA;AACA;EACE,aAAaG,UAAUA,CAACC,OAAO,GAAG,SAAS,EAAE;IAC3C,IAAI;MACF,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,YAAY,aAAa,EAAE;QACzDK,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDW,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEH;QAAQ,CAAC;MAClC,CAAC,CAAC;MAEF,OAAO,MAAMb,QAAQ,CAACiB,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MAC/D,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAEC,KAAK,CAACD;MAAQ,CAAC;IACnD;EACF;;EAEA;AACF;AACA;AACA;AACA;EACE,aAAaS,YAAYA,CAACC,SAAS,EAAE;IACnC,IAAI;MACF,MAAMnB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,YAAY,UAAU,EAAE;QACtDK,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDW,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEI,KAAK,EAAED;QAAU,CAAC;MAC3C,CAAC,CAAC;MAEF,OAAO,MAAMnB,QAAQ,CAACiB,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAEC,KAAK,CAACD;MAAQ,CAAC;IACnD;EACF;;EAEA;AACF;AACA;AACA;EACE,aAAaY,SAASA,CAAA,EAAG;IACvB,IAAI;MACF,MAAMrB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,YAAY,SAAS,CAAC;MACtD,OAAO,MAAMG,QAAQ,CAACiB,IAAI,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAClE,OAAO;QAAEY,WAAW,EAAE;MAAM,CAAC;IAC/B;EACF;AACF;AAEA,eAAexB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}