{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rkgup\\\\OneDrive\\\\Desktop\\\\corementis\\\\frontend\\\\src\\\\components\\\\student\\\\ClassroomInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\n// Import classroom components\nimport VideoGrid from './classroom/VideoGrid';\nimport Controls from './classroom/Controls';\nimport ChatPanel from './classroom/ChatPanel';\nimport ParticipantsList from './classroom/ParticipantsList';\nimport EngagementIndicator from './classroom/EngagementIndicator';\nimport EngagementPanel from './classroom/EngagementPanel';\n\n// Import engagement service\nimport EngagementService from '../../services/EngagementService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClassroomInterface = ({\n  courseId,\n  courseName\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const videoRef = useRef(null);\n\n  // State for media streams\n  const [localStream, setLocalStream] = useState(null);\n  const [screenStream, setScreenStream] = useState(null);\n\n  // State for UI controls\n  const [isMicOn, setIsMicOn] = useState(false);\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isParticipantsOpen, setIsParticipantsOpen] = useState(false);\n  const [isEngagementPanelOpen, setIsEngagementPanelOpen] = useState(false);\n  const [isHandRaised, setIsHandRaised] = useState(false);\n\n  // State for engagement analysis\n  const [analyzerInitialized, setAnalyzerInitialized] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [engagementData, setEngagementData] = useState({\n    engagement_score: 75,\n    trend: 'stable',\n    raw_score: 75,\n    component_scores: {\n      attention: 0.8,\n      emotion: 0.7,\n      posture: 0.75,\n      gaze: 0.72\n    }\n  });\n  const [showEngagementMetrics, setShowEngagementMetrics] = useState(true);\n  const analysisIntervalRef = useRef(null);\n\n  // Sample class information\n  const classInfo = {\n    name: courseName || 'Computer Vision',\n    instructor: 'Dr. Smith',\n    topic: 'OpenVINO Models for Facial Recognition',\n    time: '10:00 AM - 11:30 AM'\n  };\n\n  // Handle leaving the class\n  const handleLeaveClass = () => {\n    // Clean up media streams\n    if (localStream) {\n      localStream.getTracks().forEach(track => track.stop());\n    }\n    if (screenStream) {\n      screenStream.getTracks().forEach(track => track.stop());\n    }\n\n    // Navigate back to dashboard\n    navigate('/dashboard');\n  };\n\n  // Initialize engagement analyzer\n  const initializeAnalyzer = async () => {\n    try {\n      // First check if the analyzer service is available\n      const statusResponse = await EngagementService.checkStatus();\n      if (statusResponse.success) {\n        // Service is available, initialize it\n        const response = await EngagementService.initialize('lecture');\n        if (response.success) {\n          setAnalyzerInitialized(true);\n          console.log('Engagement analyzer initialized successfully');\n\n          // Clear any demo data by setting to null initially\n          setEngagementData(null);\n\n          // Start with a fresh analysis right away\n          setTimeout(analyzeEngagement, 500);\n          return true;\n        } else {\n          console.error('Failed to initialize engagement analyzer:', response.message);\n          return false;\n        }\n      } else {\n        console.error('Engagement analyzer service is not available');\n        return false;\n      }\n    } catch (error) {\n      console.error('Error initializing engagement analyzer:', error);\n      return false;\n    }\n  };\n\n  // Analyze engagement from video frame\n  const analyzeEngagement = async () => {\n    console.log('Analyzing engagement, camera state:', isCameraOn);\n    console.log('Video reference:', videoRef.current ? 'Available' : 'Not available');\n    if (!isCameraOn) {\n      console.warn('Camera is off, skipping analysis');\n      return;\n    }\n    if (!videoRef.current) {\n      console.warn('Video reference not available, skipping analysis');\n      return;\n    }\n    if (!videoRef.current.srcObject) {\n      console.warn('Video srcObject not available, skipping analysis');\n      return;\n    }\n    if (videoRef.current.readyState < 2) {\n      console.warn('Video not ready yet, readyState:', videoRef.current.readyState);\n      return;\n    }\n    try {\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      const videoWidth = videoRef.current.videoWidth || 640;\n      const videoHeight = videoRef.current.videoHeight || 480;\n      canvas.width = videoWidth;\n      canvas.height = videoHeight;\n      try {\n        context.drawImage(videoRef.current, 0, 0, videoWidth, videoHeight);\n        console.log(`Captured frame: ${videoWidth}x${videoHeight}`);\n      } catch (e) {\n        console.error('Error capturing video frame:', e);\n        // If we can't capture the frame, use a placeholder\n        console.log('Using placeholder image data');\n        // Create a simple colored rectangle as placeholder\n        context.fillStyle = '#888888';\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      }\n      const imageData = canvas.toDataURL('image/jpeg', 0.8);\n      console.log(`Image data length: ${imageData.length}`);\n      try {\n        let directResult = null;\n        // Try direct fetch to backend API for debugging\n        try {\n          console.log('Attempting direct fetch to backend API...');\n          const response = await fetch('http://localhost:5000/api/analyze', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Cache-Control': 'no-cache, no-store, must-revalidate',\n              'Pragma': 'no-cache',\n              'Expires': '0'\n            },\n            body: JSON.stringify({\n              image: imageData\n            }),\n            mode: 'cors',\n            credentials: 'omit'\n          });\n          if (response.ok) {\n            directResult = await response.json();\n            console.log('Direct API response:', directResult);\n          } else {\n            console.warn(`Direct API call failed with status: ${response.status}`);\n          }\n        } catch (directError) {\n          console.error('Error with direct API call:', directError);\n          console.log('Falling back to EngagementService...');\n        }\n\n        // Use this result instead of calling EngagementService if available\n        if (directResult && directResult.success) {\n          console.log('DIRECT API SUCCESS - Using real-time data');\n          console.log('Engagement score:', directResult.engagement_score);\n          console.log('Component scores:', directResult.component_scores);\n          console.log('Trend:', directResult.trend);\n          console.log('History:', directResult.history);\n\n          // Format the data properly for the EngagementPanel\n          const formattedData = {\n            engagement_score: directResult.engagement_score || 75,\n            raw_score: directResult.raw_score || 75,\n            component_scores: directResult.component_scores || {\n              attention: 0.8,\n              emotion: 0.7,\n              posture: 0.75,\n              gaze: 0.72\n            },\n            trend: directResult.trend || 'stable',\n            history: Array.isArray(directResult.history) ? directResult.history : []\n          };\n\n          // Ensure we have history data\n          if (!formattedData.history || formattedData.history.length === 0) {\n            console.log('No history data in API response, creating synthetic history');\n            formattedData.history = [formattedData.engagement_score, formattedData.engagement_score - Math.floor(Math.random() * 5), formattedData.engagement_score + Math.floor(Math.random() * 5), formattedData.engagement_score - Math.floor(Math.random() * 5)];\n          }\n          console.log('Formatted data for EngagementPanel:', formattedData);\n          setEngagementData(formattedData);\n          return; // Exit early since we've handled the data\n        }\n      } catch (error) {\n        console.error('Error with direct API call:', error);\n      }\n\n      // Fall back to EngagementService if direct fetch fails\n      try {\n        const result = await EngagementService.analyzeFrame(imageData);\n        console.log('EngagementService API Response:', result);\n        if (result && result.success) {\n          // We have real engagement data from the backend\n          console.log('Real-time engagement data received:', result);\n          console.log('Engagement score:', result.engagement_score);\n          console.log('Component scores:', result.component_scores);\n          console.log('Trend:', result.trend);\n          console.log('History:', result.history);\n\n          // Format the data properly for the EngagementPanel\n          const formattedData = {\n            engagement_score: result.engagement_score || 75,\n            raw_score: result.raw_score || 75,\n            component_scores: result.component_scores || {\n              attention: 0.8,\n              emotion: 0.7,\n              posture: 0.75,\n              gaze: 0.72\n            },\n            trend: result.trend || 'stable',\n            history: Array.isArray(result.history) ? result.history : []\n          };\n\n          // Ensure we have history data\n          if (!formattedData.history || formattedData.history.length === 0) {\n            console.log('No history data in API response, creating synthetic history');\n            formattedData.history = [formattedData.engagement_score, formattedData.engagement_score - Math.floor(Math.random() * 5), formattedData.engagement_score + Math.floor(Math.random() * 5), formattedData.engagement_score - Math.floor(Math.random() * 5)];\n          }\n          console.log('Formatted data for EngagementPanel:', formattedData);\n          setEngagementData(formattedData);\n        } else {\n          // Even if there's an error, we'll still use the last real data if available\n          console.error('Error analyzing engagement:', result ? result.message : 'No result');\n\n          // Only use simulated data if we don't have any real data yet and we're not forcing real data\n          if (!engagementData && !window.FORCE_REAL_DATA) {\n            console.log('Using simulated data instead');\n            updateSimulatedEngagementData();\n          } else {\n            console.log('Keeping last real data');\n          }\n        }\n      } catch (serviceError) {\n        console.error('Error with EngagementService:', serviceError);\n\n        // Only use simulated data if we don't have any real data yet and we're not forcing real data\n        if (!engagementData && !window.FORCE_REAL_DATA) {\n          console.log('Using simulated data due to service error');\n          updateSimulatedEngagementData();\n        } else {\n          console.log('Keeping last real data despite service error');\n        }\n      }\n    } catch (error) {\n      console.error('Error in engagement analysis:', error);\n\n      // Only use simulated data if we don't have any real data yet and we're not forcing real data\n      if (!engagementData && !window.FORCE_REAL_DATA) {\n        console.log('Using simulated data on error');\n        updateSimulatedEngagementData();\n      } else {\n        console.log('Keeping last real data despite error');\n      }\n    }\n  };\n\n  // Helper function to update simulated engagement data\n  const updateSimulatedEngagementData = () => {\n    // Get current data or use default\n    const currentData = engagementData || {\n      engagement_score: 75,\n      trend: 'stable',\n      raw_score: 75,\n      component_scores: {\n        attention: 0.8,\n        emotion: 0.7,\n        posture: 0.75,\n        gaze: 0.72\n      }\n    };\n\n    // Create small random changes to simulate real-time updates\n    const randomChange = Math.floor(Math.random() * 5) - 2; // Random change between -2 and +2\n    const newScore = Math.max(0, Math.min(100, currentData.engagement_score + randomChange));\n\n    // Determine trend based on change\n    let newTrend = 'stable';\n    if (randomChange > 0) newTrend = 'increasing';else if (randomChange < 0) newTrend = 'decreasing';\n\n    // Update component scores with small variations\n    const newComponentScores = {};\n    Object.entries(currentData.component_scores).forEach(([key, value]) => {\n      const componentChange = Math.random() * 0.04 - 0.02; // Random change between -0.02 and +0.02\n      newComponentScores[key] = Math.max(0, Math.min(1, value + componentChange));\n    });\n\n    // Set the updated simulated data\n    setEngagementData({\n      engagement_score: newScore,\n      trend: newTrend,\n      raw_score: newScore,\n      component_scores: newComponentScores\n    });\n  };\n\n  // Toggle camera\n  const toggleCamera = async () => {\n    try {\n      if (isCameraOn && localStream) {\n        // Stop engagement analysis\n        if (analysisIntervalRef.current) {\n          clearInterval(analysisIntervalRef.current);\n          analysisIntervalRef.current = null;\n          setIsAnalyzing(false);\n        }\n        localStream.getVideoTracks().forEach(track => track.stop());\n        setLocalStream(prev => {\n          // Keep audio tracks if mic is on\n          if (prev && isMicOn && prev.getAudioTracks().length > 0) {\n            const audioOnlyStream = new MediaStream();\n            prev.getAudioTracks().forEach(track => audioOnlyStream.addTrack(track));\n            return audioOnlyStream;\n          }\n          return null;\n        });\n        setIsCameraOn(false);\n\n        // Clear analysis interval\n        if (analysisIntervalRef.current) {\n          clearInterval(analysisIntervalRef.current);\n          analysisIntervalRef.current = null;\n        }\n      } else {\n        // Turn on camera\n        console.log('Requesting camera access...');\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 640,\n            height: 480\n          }\n        });\n        console.log('Camera access granted, setting up video stream');\n        setLocalStream(stream);\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          videoRef.current.onloadedmetadata = () => {\n            console.log('Video metadata loaded, video dimensions:', videoRef.current.videoWidth, 'x', videoRef.current.videoHeight);\n            videoRef.current.play().catch(e => console.error('Error playing video:', e));\n          };\n        } else {\n          console.warn('Video reference not available!');\n        }\n        setIsCameraOn(true);\n\n        // Initialize engagement analyzer\n        console.log('Initializing analyzer...');\n        const result = await EngagementService.initialize('lecture');\n        console.log('Initialization result:', result);\n        if (result.success) {\n          setAnalyzerInitialized(true);\n\n          // Force real data mode\n          window.FORCE_REAL_DATA = true;\n          console.log('FORCE_REAL_DATA set to true');\n\n          // Set up interval for engagement analysis\n          console.log('Setting up analysis interval...');\n          const intervalId = setInterval(analyzeEngagement, 3000);\n          analysisIntervalRef.current = intervalId;\n          setIsAnalyzing(true);\n\n          // Run immediate analysis\n          console.log('Running immediate analysis...');\n          analyzeEngagement();\n        }\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      alert('Could not access camera. Please check permissions.');\n    }\n  };\n\n  // Toggle microphone\n  const toggleMic = async () => {\n    if (isMicOn && localStream) {\n      localStream.getAudioTracks().forEach(track => track.stop());\n      setLocalStream(prev => {\n        // Keep video tracks if camera is on\n        if (prev && isCameraOn && prev.getVideoTracks().length > 0) {\n          const videoOnlyStream = new MediaStream();\n          prev.getVideoTracks().forEach(track => videoOnlyStream.addTrack(track));\n          return videoOnlyStream;\n        }\n        return null;\n      });\n      setIsMicOn(false);\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true\n        });\n\n        // Combine with existing video stream if camera is on\n        if (localStream && localStream.getVideoTracks().length > 0) {\n          const combinedStream = new MediaStream();\n          localStream.getVideoTracks().forEach(track => combinedStream.addTrack(track));\n          stream.getAudioTracks().forEach(track => combinedStream.addTrack(track));\n          setLocalStream(combinedStream);\n        } else {\n          setLocalStream(stream);\n        }\n        setIsMicOn(true);\n      } catch (err) {\n        console.error('Error accessing microphone:', err);\n        alert('Could not access microphone. Please check permissions.');\n      }\n    }\n  };\n\n  // Toggle screen sharing\n  const toggleScreenShare = async () => {\n    if (isScreenSharing && screenStream) {\n      screenStream.getTracks().forEach(track => track.stop());\n      setScreenStream(null);\n      setIsScreenSharing(false);\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getDisplayMedia({\n          video: {\n            cursor: 'always'\n          },\n          audio: true\n        });\n\n        // Handle when user stops sharing via browser UI\n        stream.getVideoTracks()[0].onended = () => {\n          setScreenStream(null);\n          setIsScreenSharing(false);\n        };\n        setScreenStream(stream);\n        setIsScreenSharing(true);\n      } catch (err) {\n        console.error('Error sharing screen:', err);\n        alert('Could not share screen. Please check permissions.');\n      }\n    }\n  };\n\n  // Toggle hand raise\n  const toggleHandRaise = () => {\n    setIsHandRaised(!isHandRaised);\n    // In a real app, this would send a signal to the instructor\n  };\n\n  // Initialize camera when component mounts\n  useEffect(() => {\n    // Automatically turn on camera when component mounts\n    const initCamera = async () => {\n      console.log('Initializing camera on component mount...');\n      if (!isCameraOn) {\n        await toggleCamera();\n      }\n    };\n    initCamera();\n  }, []); // Empty dependency array means this runs once on mount\n\n  // Cleanup on component unmount\n  useEffect(() => {\n    return () => {\n      if (localStream) {\n        localStream.getTracks().forEach(track => track.stop());\n      }\n      if (screenStream) {\n        screenStream.getTracks().forEach(track => track.stop());\n      }\n      if (analysisIntervalRef.current) {\n        clearInterval(analysisIntervalRef.current);\n        analysisIntervalRef.current = null;\n      }\n    };\n  }, [localStream, screenStream]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gray-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-intel-dark-blue py-2 px-4 flex justify-between items-center shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold\",\n          children: classInfo.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-4 text-sm opacity-75 hidden md:inline\",\n          children: classInfo.topic\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm hidden md:inline\",\n          children: classInfo.time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLeaveClass,\n          className: \"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded transition duration-200\",\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-4 relative\",\n        children: [/*#__PURE__*/_jsxDEV(VideoGrid, {\n          localStream: localStream,\n          screenStream: screenStream,\n          isScreenSharing: isScreenSharing,\n          videoRef: videoRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EngagementIndicator, {\n          engagementData: engagementData,\n          isVisible: isCameraOn && showEngagementMetrics\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this), (isChatOpen || isParticipantsOpen || isEngagementPanelOpen) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 bg-gray-800 border-l border-gray-700 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex-1 py-3 ${isChatOpen ? 'bg-gray-700' : ''}`,\n            onClick: () => {\n              setIsChatOpen(true);\n              setIsParticipantsOpen(false);\n              setIsEngagementPanelOpen(false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comment-alt mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this), \" Chat\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex-1 py-3 ${isParticipantsOpen ? 'bg-gray-700' : ''}`,\n            onClick: () => {\n              setIsParticipantsOpen(true);\n              setIsChatOpen(false);\n              setIsEngagementPanelOpen(false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-users mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this), \" Participants\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex-1 py-3 ${isEngagementPanelOpen ? 'bg-gray-700' : ''}`,\n            onClick: () => {\n              setIsEngagementPanelOpen(true);\n              setIsParticipantsOpen(false);\n              setIsChatOpen(false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chart-line mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), \" Engagement\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-hidden\",\n          children: isChatOpen ? /*#__PURE__*/_jsxDEV(ChatPanel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 29\n          }, this) : isParticipantsOpen ? /*#__PURE__*/_jsxDEV(ParticipantsList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-intel-dark-blue text-white py-3 px-4 flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chart-line mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: \"Engagement Analysis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsEngagementPanelOpen(false),\n                className: \"text-gray-300 hover:text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-auto\",\n              children: /*#__PURE__*/_jsxDEV(EngagementPanel, {\n                engagementData: engagementData,\n                isVisible: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Controls, {\n      isMicOn: isMicOn,\n      toggleMic: toggleMic,\n      isCameraOn: isCameraOn,\n      toggleCamera: toggleCamera,\n      isScreenSharing: isScreenSharing,\n      toggleScreenShare: toggleScreenShare,\n      isHandRaised: isHandRaised,\n      toggleHandRaise: toggleHandRaise,\n      isChatOpen: isChatOpen,\n      toggleChat: () => {\n        setIsChatOpen(!isChatOpen);\n        if (!isChatOpen) {\n          setIsParticipantsOpen(false);\n          setIsEngagementPanelOpen(false);\n        }\n      },\n      isParticipantsOpen: isParticipantsOpen,\n      toggleParticipants: () => {\n        setIsParticipantsOpen(!isParticipantsOpen);\n        if (!isParticipantsOpen) {\n          setIsChatOpen(false);\n          setIsEngagementPanelOpen(false);\n        }\n      },\n      isEngagementPanelOpen: isEngagementPanelOpen,\n      toggleEngagementPanel: () => {\n        setIsEngagementPanelOpen(!isEngagementPanelOpen);\n        if (!isEngagementPanelOpen) {\n          setIsChatOpen(false);\n          setIsParticipantsOpen(false);\n        }\n      },\n      leaveClass: handleLeaveClass\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 521,\n    columnNumber: 5\n  }, this);\n};\n_s(ClassroomInterface, \"uojoq6zJXWkm+9J4wQHVGBqiMcs=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = ClassroomInterface;\nexport default ClassroomInterface;\nvar _c;\n$RefreshReg$(_c, \"ClassroomInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useLocation","VideoGrid","Controls","ChatPanel","ParticipantsList","EngagementIndicator","EngagementPanel","EngagementService","jsxDEV","_jsxDEV","ClassroomInterface","courseId","courseName","_s","navigate","location","videoRef","localStream","setLocalStream","screenStream","setScreenStream","isMicOn","setIsMicOn","isCameraOn","setIsCameraOn","isScreenSharing","setIsScreenSharing","isChatOpen","setIsChatOpen","isParticipantsOpen","setIsParticipantsOpen","isEngagementPanelOpen","setIsEngagementPanelOpen","isHandRaised","setIsHandRaised","analyzerInitialized","setAnalyzerInitialized","isAnalyzing","setIsAnalyzing","engagementData","setEngagementData","engagement_score","trend","raw_score","component_scores","attention","emotion","posture","gaze","showEngagementMetrics","setShowEngagementMetrics","analysisIntervalRef","classInfo","name","instructor","topic","time","handleLeaveClass","getTracks","forEach","track","stop","initializeAnalyzer","statusResponse","checkStatus","success","response","initialize","console","log","setTimeout","analyzeEngagement","error","message","current","warn","srcObject","readyState","canvas","document","createElement","context","getContext","videoWidth","videoHeight","width","height","drawImage","e","fillStyle","fillRect","imageData","toDataURL","length","directResult","fetch","method","headers","body","JSON","stringify","image","mode","credentials","ok","json","status","directError","history","formattedData","Array","isArray","Math","floor","random","result","analyzeFrame","window","FORCE_REAL_DATA","updateSimulatedEngagementData","serviceError","currentData","randomChange","newScore","max","min","newTrend","newComponentScores","Object","entries","key","value","componentChange","toggleCamera","clearInterval","getVideoTracks","prev","getAudioTracks","audioOnlyStream","MediaStream","addTrack","stream","navigator","mediaDevices","getUserMedia","video","onloadedmetadata","play","catch","intervalId","setInterval","err","alert","toggleMic","videoOnlyStream","audio","combinedStream","toggleScreenShare","getDisplayMedia","cursor","onended","toggleHandRaise","initCamera","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isVisible","toggleChat","toggleParticipants","toggleEngagementPanel","leaveClass","_c","$RefreshReg$"],"sources":["C:/Users/rkgup/OneDrive/Desktop/corementis/frontend/src/components/student/ClassroomInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\n// Import classroom components\nimport VideoGrid from './classroom/VideoGrid';\nimport Controls from './classroom/Controls';\nimport ChatPanel from './classroom/ChatPanel';\nimport ParticipantsList from './classroom/ParticipantsList';\nimport EngagementIndicator from './classroom/EngagementIndicator';\nimport EngagementPanel from './classroom/EngagementPanel';\n\n// Import engagement service\nimport EngagementService from '../../services/EngagementService';\n\nconst ClassroomInterface = ({ courseId, courseName }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const videoRef = useRef(null);\n  \n  // State for media streams\n  const [localStream, setLocalStream] = useState(null);\n  const [screenStream, setScreenStream] = useState(null);\n  \n  // State for UI controls\n  const [isMicOn, setIsMicOn] = useState(false);\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isParticipantsOpen, setIsParticipantsOpen] = useState(false);\n  const [isEngagementPanelOpen, setIsEngagementPanelOpen] = useState(false);\n  const [isHandRaised, setIsHandRaised] = useState(false);\n  \n  // State for engagement analysis\n  const [analyzerInitialized, setAnalyzerInitialized] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [engagementData, setEngagementData] = useState({\n    engagement_score: 75,\n    trend: 'stable',\n    raw_score: 75,\n    component_scores: {\n      attention: 0.8,\n      emotion: 0.7,\n      posture: 0.75,\n      gaze: 0.72\n    }\n  });\n  const [showEngagementMetrics, setShowEngagementMetrics] = useState(true);\n  const analysisIntervalRef = useRef(null);\n  \n  // Sample class information\n  const classInfo = {\n    name: courseName || 'Computer Vision',\n    instructor: 'Dr. Smith',\n    topic: 'OpenVINO Models for Facial Recognition',\n    time: '10:00 AM - 11:30 AM'\n  };\n  \n  // Handle leaving the class\n  const handleLeaveClass = () => {\n    // Clean up media streams\n    if (localStream) {\n      localStream.getTracks().forEach(track => track.stop());\n    }\n    if (screenStream) {\n      screenStream.getTracks().forEach(track => track.stop());\n    }\n    \n    // Navigate back to dashboard\n    navigate('/dashboard');\n  };\n  \n  // Initialize engagement analyzer\n  const initializeAnalyzer = async () => {\n    try {\n      // First check if the analyzer service is available\n      const statusResponse = await EngagementService.checkStatus();\n      \n      if (statusResponse.success) {\n        // Service is available, initialize it\n        const response = await EngagementService.initialize('lecture');\n        if (response.success) {\n          setAnalyzerInitialized(true);\n          console.log('Engagement analyzer initialized successfully');\n          \n          // Clear any demo data by setting to null initially\n          setEngagementData(null);\n          \n          // Start with a fresh analysis right away\n          setTimeout(analyzeEngagement, 500);\n          \n          return true;\n        } else {\n          console.error('Failed to initialize engagement analyzer:', response.message);\n          return false;\n        }\n      } else {\n        console.error('Engagement analyzer service is not available');\n        return false;\n      }\n    } catch (error) {\n      console.error('Error initializing engagement analyzer:', error);\n      return false;\n    }\n  };\n\n  // Analyze engagement from video frame\n  const analyzeEngagement = async () => {\n    console.log('Analyzing engagement, camera state:', isCameraOn);\n    console.log('Video reference:', videoRef.current ? 'Available' : 'Not available');\n    \n    if (!isCameraOn) {\n      console.warn('Camera is off, skipping analysis');\n      return;\n    }\n    \n    if (!videoRef.current) {\n      console.warn('Video reference not available, skipping analysis');\n      return;\n    }\n    \n    if (!videoRef.current.srcObject) {\n      console.warn('Video srcObject not available, skipping analysis');\n      return;\n    }\n    \n    if (videoRef.current.readyState < 2) {\n      console.warn('Video not ready yet, readyState:', videoRef.current.readyState);\n      return;\n    }\n    \n    try {\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      \n      const videoWidth = videoRef.current.videoWidth || 640;\n      const videoHeight = videoRef.current.videoHeight || 480;\n      canvas.width = videoWidth;\n      canvas.height = videoHeight;\n      \n      try {\n        context.drawImage(videoRef.current, 0, 0, videoWidth, videoHeight);\n        console.log(`Captured frame: ${videoWidth}x${videoHeight}`);\n      } catch (e) {\n        console.error('Error capturing video frame:', e);\n        // If we can't capture the frame, use a placeholder\n        console.log('Using placeholder image data');\n        // Create a simple colored rectangle as placeholder\n        context.fillStyle = '#888888';\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      }\n      \n      const imageData = canvas.toDataURL('image/jpeg', 0.8);\n      console.log(`Image data length: ${imageData.length}`);\n      \n      try {\n        let directResult = null;\n        // Try direct fetch to backend API for debugging\n        try {\n          console.log('Attempting direct fetch to backend API...');\n          const response = await fetch('http://localhost:5000/api/analyze', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Cache-Control': 'no-cache, no-store, must-revalidate',\n              'Pragma': 'no-cache',\n              'Expires': '0'\n            },\n            body: JSON.stringify({ image: imageData }),\n            mode: 'cors',\n            credentials: 'omit'\n          });\n          \n          if (response.ok) {\n            directResult = await response.json();\n            console.log('Direct API response:', directResult);\n          } else {\n            console.warn(`Direct API call failed with status: ${response.status}`);\n          }\n        } catch (directError) {\n          console.error('Error with direct API call:', directError);\n          console.log('Falling back to EngagementService...');\n        }\n        \n        // Use this result instead of calling EngagementService if available\n        if (directResult && directResult.success) {\n          console.log('DIRECT API SUCCESS - Using real-time data');\n          console.log('Engagement score:', directResult.engagement_score);\n          console.log('Component scores:', directResult.component_scores);\n          console.log('Trend:', directResult.trend);\n          console.log('History:', directResult.history);\n          \n          // Format the data properly for the EngagementPanel\n          const formattedData = {\n            engagement_score: directResult.engagement_score || 75,\n            raw_score: directResult.raw_score || 75,\n            component_scores: directResult.component_scores || {\n              attention: 0.8,\n              emotion: 0.7,\n              posture: 0.75,\n              gaze: 0.72\n            },\n            trend: directResult.trend || 'stable',\n            history: Array.isArray(directResult.history) ? directResult.history : []\n          };\n          \n          // Ensure we have history data\n          if (!formattedData.history || formattedData.history.length === 0) {\n            console.log('No history data in API response, creating synthetic history');\n            formattedData.history = [\n              formattedData.engagement_score,\n              formattedData.engagement_score - Math.floor(Math.random() * 5),\n              formattedData.engagement_score + Math.floor(Math.random() * 5),\n              formattedData.engagement_score - Math.floor(Math.random() * 5)\n            ];\n          }\n          \n          console.log('Formatted data for EngagementPanel:', formattedData);\n          setEngagementData(formattedData);\n          return; // Exit early since we've handled the data\n        }\n      } catch (error) {\n        console.error('Error with direct API call:', error);\n      }\n      \n      // Fall back to EngagementService if direct fetch fails\n      try {\n        const result = await EngagementService.analyzeFrame(imageData);\n        console.log('EngagementService API Response:', result);\n        \n        if (result && result.success) {\n          // We have real engagement data from the backend\n          console.log('Real-time engagement data received:', result);\n          console.log('Engagement score:', result.engagement_score);\n          console.log('Component scores:', result.component_scores);\n          console.log('Trend:', result.trend);\n          console.log('History:', result.history);\n          \n          // Format the data properly for the EngagementPanel\n          const formattedData = {\n            engagement_score: result.engagement_score || 75,\n            raw_score: result.raw_score || 75,\n            component_scores: result.component_scores || {\n              attention: 0.8,\n              emotion: 0.7,\n              posture: 0.75,\n              gaze: 0.72\n            },\n            trend: result.trend || 'stable',\n            history: Array.isArray(result.history) ? result.history : []\n          };\n          \n          // Ensure we have history data\n          if (!formattedData.history || formattedData.history.length === 0) {\n            console.log('No history data in API response, creating synthetic history');\n            formattedData.history = [\n              formattedData.engagement_score,\n              formattedData.engagement_score - Math.floor(Math.random() * 5),\n              formattedData.engagement_score + Math.floor(Math.random() * 5),\n              formattedData.engagement_score - Math.floor(Math.random() * 5)\n            ];\n          }\n          \n          console.log('Formatted data for EngagementPanel:', formattedData);\n          setEngagementData(formattedData);\n        } else {\n          // Even if there's an error, we'll still use the last real data if available\n          console.error('Error analyzing engagement:', result ? result.message : 'No result');\n          \n          // Only use simulated data if we don't have any real data yet and we're not forcing real data\n          if (!engagementData && !window.FORCE_REAL_DATA) {\n            console.log('Using simulated data instead');\n            updateSimulatedEngagementData();\n          } else {\n            console.log('Keeping last real data');\n          }\n        }\n      } catch (serviceError) {\n        console.error('Error with EngagementService:', serviceError);\n        \n        // Only use simulated data if we don't have any real data yet and we're not forcing real data\n        if (!engagementData && !window.FORCE_REAL_DATA) {\n          console.log('Using simulated data due to service error');\n          updateSimulatedEngagementData();\n        } else {\n          console.log('Keeping last real data despite service error');\n        }\n      }\n    } catch (error) {\n      console.error('Error in engagement analysis:', error);\n      \n      // Only use simulated data if we don't have any real data yet and we're not forcing real data\n      if (!engagementData && !window.FORCE_REAL_DATA) {\n        console.log('Using simulated data on error');\n        updateSimulatedEngagementData();\n      } else {\n        console.log('Keeping last real data despite error');\n      }\n    }\n  };\n  \n  // Helper function to update simulated engagement data\n  const updateSimulatedEngagementData = () => {\n    // Get current data or use default\n    const currentData = engagementData || {\n      engagement_score: 75,\n      trend: 'stable',\n      raw_score: 75,\n      component_scores: {\n        attention: 0.8,\n        emotion: 0.7,\n        posture: 0.75,\n        gaze: 0.72\n      }\n    };\n    \n    // Create small random changes to simulate real-time updates\n    const randomChange = Math.floor(Math.random() * 5) - 2; // Random change between -2 and +2\n    const newScore = Math.max(0, Math.min(100, currentData.engagement_score + randomChange));\n    \n    // Determine trend based on change\n    let newTrend = 'stable';\n    if (randomChange > 0) newTrend = 'increasing';\n    else if (randomChange < 0) newTrend = 'decreasing';\n    \n    // Update component scores with small variations\n    const newComponentScores = {};\n    Object.entries(currentData.component_scores).forEach(([key, value]) => {\n      const componentChange = (Math.random() * 0.04) - 0.02; // Random change between -0.02 and +0.02\n      newComponentScores[key] = Math.max(0, Math.min(1, value + componentChange));\n    });\n    \n    // Set the updated simulated data\n    setEngagementData({\n      engagement_score: newScore,\n      trend: newTrend,\n      raw_score: newScore,\n      component_scores: newComponentScores\n    });\n  };\n\n  // Toggle camera\n  const toggleCamera = async () => {\n    try {\n      if (isCameraOn && localStream) {\n        // Stop engagement analysis\n        if (analysisIntervalRef.current) {\n          clearInterval(analysisIntervalRef.current);\n          analysisIntervalRef.current = null;\n          setIsAnalyzing(false);\n        }\n        \n        localStream.getVideoTracks().forEach(track => track.stop());\n        setLocalStream(prev => {\n          // Keep audio tracks if mic is on\n          if (prev && isMicOn && prev.getAudioTracks().length > 0) {\n            const audioOnlyStream = new MediaStream();\n            prev.getAudioTracks().forEach(track => audioOnlyStream.addTrack(track));\n            return audioOnlyStream;\n          }\n          return null;\n        });\n        setIsCameraOn(false);\n        \n        // Clear analysis interval\n        if (analysisIntervalRef.current) {\n          clearInterval(analysisIntervalRef.current);\n          analysisIntervalRef.current = null;\n        }\n      } else {\n        // Turn on camera\n        console.log('Requesting camera access...');\n        const stream = await navigator.mediaDevices.getUserMedia({ \n          video: { width: 640, height: 480 } \n        });\n        \n        console.log('Camera access granted, setting up video stream');\n        setLocalStream(stream);\n        \n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          videoRef.current.onloadedmetadata = () => {\n            console.log('Video metadata loaded, video dimensions:', \n              videoRef.current.videoWidth, 'x', videoRef.current.videoHeight);\n            videoRef.current.play().catch(e => console.error('Error playing video:', e));\n          };\n        } else {\n          console.warn('Video reference not available!');\n        }\n        \n        setIsCameraOn(true);\n        \n        // Initialize engagement analyzer\n        console.log('Initializing analyzer...');\n        const result = await EngagementService.initialize('lecture');\n        console.log('Initialization result:', result);\n        \n        if (result.success) {\n          setAnalyzerInitialized(true);\n          \n          // Force real data mode\n          window.FORCE_REAL_DATA = true;\n          console.log('FORCE_REAL_DATA set to true');\n          \n          // Set up interval for engagement analysis\n          console.log('Setting up analysis interval...');\n          const intervalId = setInterval(analyzeEngagement, 3000);\n          analysisIntervalRef.current = intervalId;\n          setIsAnalyzing(true);\n          \n          // Run immediate analysis\n          console.log('Running immediate analysis...');\n          analyzeEngagement();\n        }\n      }\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      alert('Could not access camera. Please check permissions.');\n    }\n  };\n  \n  // Toggle microphone\n  const toggleMic = async () => {\n    if (isMicOn && localStream) {\n      localStream.getAudioTracks().forEach(track => track.stop());\n      setLocalStream(prev => {\n        // Keep video tracks if camera is on\n        if (prev && isCameraOn && prev.getVideoTracks().length > 0) {\n          const videoOnlyStream = new MediaStream();\n          prev.getVideoTracks().forEach(track => videoOnlyStream.addTrack(track));\n          return videoOnlyStream;\n        }\n        return null;\n      });\n      setIsMicOn(false);\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        \n        // Combine with existing video stream if camera is on\n        if (localStream && localStream.getVideoTracks().length > 0) {\n          const combinedStream = new MediaStream();\n          localStream.getVideoTracks().forEach(track => combinedStream.addTrack(track));\n          stream.getAudioTracks().forEach(track => combinedStream.addTrack(track));\n          setLocalStream(combinedStream);\n        } else {\n          setLocalStream(stream);\n        }\n        \n        setIsMicOn(true);\n      } catch (err) {\n        console.error('Error accessing microphone:', err);\n        alert('Could not access microphone. Please check permissions.');\n      }\n    }\n  };\n  \n  // Toggle screen sharing\n  const toggleScreenShare = async () => {\n    if (isScreenSharing && screenStream) {\n      screenStream.getTracks().forEach(track => track.stop());\n      setScreenStream(null);\n      setIsScreenSharing(false);\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getDisplayMedia({ \n          video: { cursor: 'always' },\n          audio: true\n        });\n        \n        // Handle when user stops sharing via browser UI\n        stream.getVideoTracks()[0].onended = () => {\n          setScreenStream(null);\n          setIsScreenSharing(false);\n        };\n        \n        setScreenStream(stream);\n        setIsScreenSharing(true);\n      } catch (err) {\n        console.error('Error sharing screen:', err);\n        alert('Could not share screen. Please check permissions.');\n      }\n    }\n  };\n  \n  // Toggle hand raise\n  const toggleHandRaise = () => {\n    setIsHandRaised(!isHandRaised);\n    // In a real app, this would send a signal to the instructor\n  };\n  \n  // Initialize camera when component mounts\n  useEffect(() => {\n    // Automatically turn on camera when component mounts\n    const initCamera = async () => {\n      console.log('Initializing camera on component mount...');\n      if (!isCameraOn) {\n        await toggleCamera();\n      }\n    };\n    \n    initCamera();\n  }, []); // Empty dependency array means this runs once on mount\n  \n  // Cleanup on component unmount\n  useEffect(() => {\n    return () => {\n      if (localStream) {\n        localStream.getTracks().forEach(track => track.stop());\n      }\n      if (screenStream) {\n        screenStream.getTracks().forEach(track => track.stop());\n      }\n      if (analysisIntervalRef.current) {\n        clearInterval(analysisIntervalRef.current);\n        analysisIntervalRef.current = null;\n      }\n    };\n  }, [localStream, screenStream]);\n  \n  return (\n    <div className=\"flex flex-col h-screen bg-gray-900 text-white\">\n      {/* Header */}\n      <header className=\"bg-intel-dark-blue py-2 px-4 flex justify-between items-center shadow-md\">\n        <div className=\"flex items-center\">\n          <h1 className=\"text-xl font-bold\">{classInfo.name}</h1>\n          <span className=\"ml-4 text-sm opacity-75 hidden md:inline\">{classInfo.topic}</span>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <span className=\"text-sm hidden md:inline\">{classInfo.time}</span>\n          <button \n            onClick={handleLeaveClass}\n            className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded transition duration-200\"\n          >\n            Leave\n          </button>\n        </div>\n      </header>\n      \n      {/* Main content area with VideoGrid */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        <div className=\"flex-1 p-4 relative\">\n          <VideoGrid \n            localStream={localStream} \n            screenStream={screenStream} \n            isScreenSharing={isScreenSharing}\n            videoRef={videoRef}\n          />\n          \n          {/* Engagement Indicator */}\n          <EngagementIndicator \n            engagementData={engagementData} \n            isVisible={isCameraOn && showEngagementMetrics} \n          />\n        </div>\n        \n        {/* Side panel with ChatPanel, ParticipantsList, or EngagementPanel */}\n        {(isChatOpen || isParticipantsOpen || isEngagementPanelOpen) && (\n          <div className=\"w-80 bg-gray-800 border-l border-gray-700 flex flex-col\">\n            <div className=\"flex border-b border-gray-700\">\n              <button \n                className={`flex-1 py-3 ${isChatOpen ? 'bg-gray-700' : ''}`}\n                onClick={() => { setIsChatOpen(true); setIsParticipantsOpen(false); setIsEngagementPanelOpen(false); }}\n              >\n                <i className=\"fas fa-comment-alt mr-2\"></i> Chat\n              </button>\n              <button \n                className={`flex-1 py-3 ${isParticipantsOpen ? 'bg-gray-700' : ''}`}\n                onClick={() => { setIsParticipantsOpen(true); setIsChatOpen(false); setIsEngagementPanelOpen(false); }}\n              >\n                <i className=\"fas fa-users mr-2\"></i> Participants\n              </button>\n              <button \n                className={`flex-1 py-3 ${isEngagementPanelOpen ? 'bg-gray-700' : ''}`}\n                onClick={() => { setIsEngagementPanelOpen(true); setIsParticipantsOpen(false); setIsChatOpen(false); }}\n              >\n                <i className=\"fas fa-chart-line mr-2\"></i> Engagement\n              </button>\n            </div>\n            <div className=\"flex-1 overflow-hidden\">\n              {isChatOpen ? <ChatPanel /> : \n               isParticipantsOpen ? <ParticipantsList /> : \n               <div className=\"h-full flex flex-col\">\n                 <div className=\"bg-intel-dark-blue text-white py-3 px-4 flex justify-between items-center\">\n                   <div className=\"flex items-center\">\n                     <i className=\"fas fa-chart-line mr-2\"></i>\n                     <span className=\"font-bold\">Engagement Analysis</span>\n                   </div>\n                   <button \n                     onClick={() => setIsEngagementPanelOpen(false)}\n                     className=\"text-gray-300 hover:text-white\"\n                   >\n                     <i className=\"fas fa-times\"></i>\n                   </button>\n                 </div>\n                 <div className=\"flex-1 overflow-auto\">\n                   <EngagementPanel engagementData={engagementData} isVisible={true} />\n                 </div>\n               </div>\n              }\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Controls component */}\n      <Controls \n        isMicOn={isMicOn}\n        toggleMic={toggleMic}\n        isCameraOn={isCameraOn}\n        toggleCamera={toggleCamera}\n        isScreenSharing={isScreenSharing}\n        toggleScreenShare={toggleScreenShare}\n        isHandRaised={isHandRaised}\n        toggleHandRaise={toggleHandRaise}\n        isChatOpen={isChatOpen}\n        toggleChat={() => {\n          setIsChatOpen(!isChatOpen);\n          if (!isChatOpen) {\n            setIsParticipantsOpen(false);\n            setIsEngagementPanelOpen(false);\n          }\n        }}\n        isParticipantsOpen={isParticipantsOpen}\n        toggleParticipants={() => {\n          setIsParticipantsOpen(!isParticipantsOpen);\n          if (!isParticipantsOpen) {\n            setIsChatOpen(false);\n            setIsEngagementPanelOpen(false);\n          }\n        }}\n        isEngagementPanelOpen={isEngagementPanelOpen}\n        toggleEngagementPanel={() => {\n          setIsEngagementPanelOpen(!isEngagementPanelOpen);\n          if (!isEngagementPanelOpen) {\n            setIsChatOpen(false);\n            setIsParticipantsOpen(false);\n          }\n        }}\n        leaveClass={handleLeaveClass}\n      />\n    </div>\n  );\n};\n\nexport default ClassroomInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}